<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinite Horizontal and Vertical Scroll</title>
    <style>
        #scroll-content {
            width: calc(100% - 20px);
            height: calc(100% - 20px);
            overflow: auto;
            border: 1px solid black;
            white-space: nowrap; /* Prevent line breaks for horizontal scrolling */
            padding: 10px;
        }
        .item {
            display: inline-block;
            width: 100px; /* Adjust item width as needed */
            height: 100px; /* Adjust item height as needed */
            border: 1px solid gray;
            margin: 5px;
        }
    </style>
</head>
<body>
    <div id="scroll-content">
        <!-- Initial content -->
        <div class="item">a</div>
        <div class="item">b</div>
        <div class="item">c</div>
        <div class="item">d</div>
        <div class="item">e</div>
        <div class="item">f</div>
        <div class="item">g</div>
        <div class="item">h</div>
        <div class="item">i</div>
        <div class="item">j</div>
        <div class="item">k</div>
        <div class="item">l</div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function(event) { 
            const object = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l"];

            var checkForNewDiv = function () {
                var scrollContent = document.getElementById("scroll-content");

                // Check for scrolling to the right
                var lastDivHorizontal = scrollContent.querySelector("div.item:last-child");
                var lastDivOffsetRight = lastDivHorizontal.offsetLeft + lastDivHorizontal.clientWidth;
                var pageOffsetRight = scrollContent.scrollLeft + scrollContent.clientWidth;

                if (pageOffsetRight > lastDivOffsetRight - 10) {
                    var newDivRight = document.createElement("div");
                    newDivRight.className = 'item';
                    newDivRight.innerHTML = object[Math.floor(Math.random() * object.length)];
                    scrollContent.appendChild(newDivRight);
                }

                // Check for scrolling to the left
                var firstDivHorizontal = scrollContent.querySelector("div.item:first-child");
                var firstDivOffsetLeft = firstDivHorizontal.offsetLeft;
                var pageOffsetLeft = scrollContent.scrollLeft;

                if (pageOffsetLeft < firstDivOffsetLeft + 10) {
                    var newDivLeft = document.createElement("div");
                    newDivLeft.className = 'item';
                    newDivLeft.innerHTML = object[Math.floor(Math.random() * object.length)];
                    scrollContent.insertBefore(newDivLeft, scrollContent.firstChild);
                    scrollContent.scrollLeft += newDivLeft.clientWidth + 10;
                }

                // Check for scrolling to the bottom
                var lastDivVertical = scrollContent.querySelector("div.item:last-child");
                var lastDivOffsetBottom = lastDivVertical.offsetTop + lastDivVertical.clientHeight;
                var pageOffsetBottom = scrollContent.scrollTop + scrollContent.clientHeight;

                if (pageOffsetBottom > lastDivOffsetBottom - 10) {
                    var newDivBottom = document.createElement("div");
                    newDivBottom.className = 'item';
                    newDivBottom.innerHTML = object[Math.floor(Math.random() * object.length)];
                    scrollContent.appendChild(newDivBottom);
                }

                // Check for scrolling to the top
                var firstDivVertical = scrollContent.querySelector("div.item:first-child");
                var firstDivOffsetTop = firstDivVertical.offsetTop;
                var pageOffsetTop = scrollContent.scrollTop;

                if (pageOffsetTop < firstDivOffsetTop + 10) {
                    var newDivTop = document.createElement("div");
                    newDivTop.className = 'item';
                    newDivTop.innerHTML = object[Math.floor(Math.random() * object.length)];
                    scrollContent.insertBefore(newDivTop, scrollContent.firstChild);
                    scrollContent.scrollTop += newDivTop.clientHeight + 10;
                }
            };

            // Attach the scroll event listener
            document.getElementById("scroll-content").addEventListener("scroll", function (event) {
                checkForNewDiv();
            });

            // Initial check
            checkForNewDiv();
        });
    </script>
</body>
</html>

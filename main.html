<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinite Scroll!</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="scroll-content">
        <!-- Initial content -->
        <div class="item" style="display: none;"></div>
    </div>
</body>

<script>

    document.addEventListener("DOMContentLoaded", function(event) { 

        const boxes = {
            1:["180px", "url(./images/tinos180.jpeg" ],
            2:["180px", "url(./images/tinos180_2.jpeg" ],
            3:["320px", "url(./images/tinos318.jpg)" ],
            4:["500px", "url(./images/tinos500.jpg)" ],
            5:["1080px", "url(./images/tinos1080.jpg)" ],

        }

        /*
        
        document.getElementById("scroll-content").addEventListener("scroll", function (event) {
        var newDiv = document.createElement("div");
       newDiv.innerHTML = `${object[Math.floor(Math.random() * 8 +1)]}`
       document.getElementById("scroll-content").appendChild(newDiv);
       
         }); */

        var checkForNewDiv = function () {
        var lastDiv = document.querySelector("#scroll-content > div:last-child");
        var maindiv = document.querySelector("#scroll-content");
        var lastDivOffset = lastDiv.offsetTop + lastDiv.clientHeight;
        var pageOffset = maindiv.offsetTop + maindiv.clientHeight;   
        if (pageOffset > lastDivOffset - 10) {
            var randomIndex = Math.floor(Math.random() * 5) +1; // Generate random index
            var selectedBox = boxes[randomIndex]; // Get the array at the random index
            var newDiv = document.createElement("div");
            newDiv.style.width = selectedBox[0]; 
            newDiv.style.height = selectedBox[0]; 
            newDiv.style.background = selectedBox[1];
            document.getElementById("scroll-content").appendChild(newDiv);
            checkForNewDiv();
        }
        };

        checkForNewDiv();

    });

</script>

</html>
